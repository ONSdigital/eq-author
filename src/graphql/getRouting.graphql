#import "./fragments/answer.graphql"
#import "./fragments/option.graphql"
#import "./fragments/routing-ruleset.graphql"
#import "./fragments/routing-destination.graphql"

query GetRouting($questionnaireId: ID!, $pageId: ID!) {
  questionnaire(id: $questionnaireId) {
    id
    sections {
      id
      pages {
        id
        ... on QuestionPage {
          plaintextTitle: title(format: Plaintext)
        }
      }
    }
  }
  questionPage(id: $pageId) {
    id
    plaintextTitle: title(format: Plaintext)
    routingRuleSet {
      ...RoutingRuleSet
    }
    __typename
  }
  availableRoutingDestinations(pageId: $pageId) {
    logicalDestinations {
      ...LogicalDestination
    }
    questionPages {
      ...QuestionPageDestination
    }
    sections {
      ...SectionDestination
    }
  }
}
